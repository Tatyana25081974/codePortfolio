(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const a="https://portfolio-js.b.goit.study/api",f=async()=>{try{const e=await fetch(`${a}/projects`);if(!e.ok)throw new Error(`Error fetching projects: ${e.status}`);return await e.json()}catch(e){return console.error("Failed to fetch projects:",e),[]}},u=async()=>{try{const e=await fetch(`${a}/reviews`);if(!e.ok)throw new Error(`Error fetching reviews: ${e.status}`);return await e.json()}catch(e){return console.error("Failed to fetch reviews:",e),[]}},d=async e=>{try{const t=await fetch(`${a}/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Error submitting form: ${t.status}`);return await t.json()}catch(t){return console.error("Failed to submit form:",t),{success:!1,message:"Submission failed"}}};document.addEventListener("DOMContentLoaded",async()=>{const e=document.querySelector("#projects-container"),t=document.querySelector("#reviews-container");try{const r=await f();!r||r.length===0?(console.warn("⚠️ Немає доступних проєктів!"),e&&(e.innerHTML="<p>❌ Немає доступних проєктів.</p>")):console.log("Projects:",r);const n=await u();!n||n.length===0?(console.warn("⚠️ Немає відгуків!"),t&&(t.innerHTML="<p>❌ Відгуки недоступні.</p>")):console.log("Reviews:",n)}catch(r){console.error("❌ Помилка отримання даних з API:",r),e&&(e.innerHTML=`<p>❌ Не вдалося отримати проєкти: ${r.message||"сервер недоступний"}</p>`),t&&(t.innerHTML=`<p>❌ Не вдалося отримати відгуки: ${r.message||"сервер недоступний"}</p>`)}});const c=document.querySelector("#contact-form");c?c.addEventListener("submit",async e=>{e.preventDefault();const t={name:c.elements.name.value.trim(),email:c.elements.email.value.trim(),message:c.elements.message.value.trim()};try{const r=await d(t);console.log("Form Response:",r),r.success?(m("✅ Форма успішно відправлена!"),c.reset()):l(r.error||"❌ Помилка! Спробуйте ще раз.")}catch(r){l("❌ Сервер недоступний. Перевірте підключення."),console.error("❌ Помилка надсилання форми:",r)}}):console.warn("⚠️ Форма #contact-form не знайдена на сторінці.");function m(e){alert(e)}function l(e){alert(e)}
//# sourceMappingURL=index.js.map
