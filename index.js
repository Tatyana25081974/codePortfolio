(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();const l=document.querySelectorAll("img[data-src]"),u=(e,t)=>{e.forEach(s=>{if(s.isIntersecting){const o=s.target;o.src=o.dataset.src,o.removeAttribute("data-src"),t.unobserve(o)}})},d=new IntersectionObserver(u,{root:null,threshold:.1});l.forEach(e=>d.observe(e));const f=document.querySelectorAll(".lazy-bg"),m=(e,t)=>{e.forEach(s=>{if(s.isIntersecting){const o=s.target;o.style.backgroundImage=`url(${o.dataset.bg})`,o.removeAttribute("data-bg"),t.unobserve(o)}})},g=new IntersectionObserver(m,{root:null,threshold:.1});f.forEach(e=>g.observe(e));const i="https://portfolio-js.b.goit.study/api",h=async()=>{try{const e=await fetch(`${i}/projects`);if(!e.ok)throw new Error(`Error fetching projects: ${e.status}`);return await e.json()}catch(e){return console.error("Failed to fetch projects:",e),[]}},p=async()=>{try{const e=await fetch(`${i}/reviews`);if(!e.ok)throw new Error(`Error fetching reviews: ${e.status}`);return await e.json()}catch(e){return console.error("Failed to fetch reviews:",e),[]}},y=async e=>{try{const t=await fetch(`${i}/contact`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Error submitting form: ${t.status}`);return await t.json()}catch(t){return console.error("Failed to submit form:",t),{success:!1,message:"Submission failed"}}};document.addEventListener("DOMContentLoaded",async()=>{try{const e=await h();console.log("Projects:",e);const t=await p();console.log("Reviews:",t)}catch(e){console.error("Помилка при отриманні даних з API:",e)}});const c=document.querySelector("#contact-form");c&&c.addEventListener("submit",async e=>{e.preventDefault();const t={name:c.elements.name.value.trim(),email:c.elements.email.value.trim(),message:c.elements.message.value.trim()},s=await y(t);console.log("Form Response:",s),s.success?(alert("Форма успішно відправлена!"),c.reset()):alert("Помилка надсилання форми. Спробуйте ще раз.")});
//# sourceMappingURL=index.js.map
